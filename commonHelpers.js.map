{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgInfo => {\n  return `<li class=\"gallery-card\">\n      <a href=\"${imgInfo.largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" class=\"gallery-img\" loading=\"lazy\">\n        </a>\n      <ul class=\"info\">\n            <li class=\"info-item\">\n                <p class=\"info-item-desc\">Likes</p>${imgInfo.likes}\n            </li>\n            <li class=\"info-item\">\n                <p class=\"info-item-desc\">Views</p>${imgInfo.views}\n            </li>\n            <li class=\"info-item\">\n                <p class=\"info-item-desc\">Comments</p>${imgInfo.comments}\n            </li>\n            <li class=\"info-item\">\n                <p class=\"info-item-desc\">Downloads</p>${imgInfo.downloads}\n            </li>\n        </ul>\n    </li>`;\n};\n","const BASE_URL = 'https://pixabay.com/api/';\nexport const fetchPhotos = searchedQuery => {\n  const urlParams = new URLSearchParams({\n    q: searchedQuery,\n    key: '45557561-052ca280d13484c0c5f536db7',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${BASE_URL}?${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createGalleryCardTemplate } from './js/render-functions.js';\nimport { fetchPhotos } from './js/pixabay-api.js';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst userList = document.querySelector('.user-list');\nconst loader = document.querySelector('.loader');\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\nconst onSearchFormSubmit = event => {\n  userList.innerHTML = '';\n  event.preventDefault();\n  const searchedValue = searchForm.elements.user_query.value;\n  showLoader();\n  fetchPhotos(searchedValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        userList.innerHTML = '';\n        searchForm.reset();\n        return;\n      }\n      const galleryCardsTemplate = data.hits\n        .map(imgDetails => createGalleryCardTemplate(imgDetails))\n        .join('');\n      userList.innerHTML = galleryCardsTemplate;\n      const galleryLightbox = new SimpleLightbox('.user-list a', {});\n      galleryLightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n};\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgInfo","BASE_URL","fetchPhotos","searchedQuery","urlParams","response","searchForm","userList","loader","showLoader","hideLoader","onSearchFormSubmit","event","searchedValue","data","iziToast","galleryCardsTemplate","imgDetails","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAChC;AAAA,iBACQA,EAAQ,aAAa;AAAA,wBACdA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,qDAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA,qDAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,wDAGVA,EAAQ,QAAQ;AAAA;AAAA;AAAA,yDAGfA,EAAQ,SAAS;AAAA;AAAA;AAAA,WChBpEC,EAAW,2BACJC,EAAcC,GAAiB,CAC1C,MAAMC,EAAY,IAAI,gBAAgB,CACpC,EAAGD,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAS,EAAE,EAAE,KAAKC,GAAY,CACxD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECRMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASC,GAAa,CACpBD,EAAO,UAAU,OAAO,WAAW,CACrC,CACA,SAASE,GAAa,CACpBF,EAAO,UAAU,IAAI,WAAW,CAClC,CAEA,MAAMG,EAAqBC,GAAS,CAClCL,EAAS,UAAY,GACrBK,EAAM,eAAc,EACpB,MAAMC,EAAgBP,EAAW,SAAS,WAAW,MACrDG,IACAP,EAAYW,CAAa,EACtB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDR,EAAS,UAAY,GACrBD,EAAW,MAAK,EAChB,MACD,CACD,MAAMU,EAAuBF,EAAK,KAC/B,IAAIG,GAAclB,EAA0BkB,CAAU,CAAC,EACvD,KAAK,EAAE,EACVV,EAAS,UAAYS,EACG,IAAIE,EAAe,eAAgB,CAAE,CAAA,EAC7C,QAAO,CAC7B,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbT,GACN,CAAK,CACL,EACAJ,EAAW,iBAAiB,SAAUK,CAAkB"}